<?xml version="1.0" encoding="utf-8"?>
<openerp>
<data>
<template id="report_continuous_evaluation_document">
    <t t-call="report.html_container">
    <!--t t-call="emsprime_evaluation.external_layout"-->
        <t t-set="p" t-value="doc.with_context({'lang':doc.create_uid.lang})" />
		<t t-foreach="p" t-as="o">
		<div class="header">
		    <div class="row">
		        <div class="col-xs-12 text-center" style="color:#333333;font-family:Calibri;font-size:16px;margin-top:105px;">
					<span t-if="o.class_id.course_year"><span t-field="o.class_id.course_year"/>º Ano do </span><span>Curso de </span><span t-field="o.class_id.course_id.degree_id.name"/> em <span t-field="o.class_id.course_id.name"/>
				</div>
		        <div class="col-xs-12 text-center" style="color:#333333;font-family:Calibri;font-size:16px;">
					<span>Ano Letivo de </span><span t-field="o.class_id.academic_year"/> - <span t-if="o.class_id.semester == 'I' ">1º </span><span t-if="o.class_id.semester == 'II' ">2º </span>Semestre
				</div>
		        <div class="col-xs-12 text-center" style="color:#333333;font-family:Calibri;font-size:18px;">
					<strong>AVALIAÇÃO CONTÍNUA</strong>
				</div>
		    </div>
		</div>

        <div class="page" style="margin:0 25px">
			<style type="text/css">
			<![CDATA[
			@font-face {
			  font-family: 'Calibri';
			  font-style: normal;
			  font-weight: 400;
			  src: local('Calibri'), url(https://github.com/jondot/dotfiles/blob/master/.fonts/calibri.ttf?raw=true) format('truetype');
			}
			]]>
			.tit_declaration{color:#333333;font-family:Calibri;font-size:16px;}
			.tit_section{color:333333;font-size:16px;}
			</style>

			<div class="row" style="color:333333;font-family:Calibri;font-size:16px;">
				<div style="width: 100%; height: 10px;"/> 
				<div style="width: 100%; height: 1px; background-color:#666666; overflow: hidden; margin:10px 0;"/> 
				<strong>Unidade Curricular</strong>: <span t-field="o.subject_id.name" style="text-transform:uppercase;"/> ***<br/>
				<strong>Docente</strong>: <span t-field="o.faculty_id.complete_name"/> ***<br/><br/>
				<table style="padding:5px;border:1px solid #666666; border-collapse: collapse;">
					<tr style="background-color:#f0f0f0;">
						<td width="8%" style="border:1px solid #cccccc; border-collapse: collapse;padding-left:5px;"><strong>Nº Aluno</strong></td>
						<td width="40%" style="border:1px solid #cccccc; border-collapse: collapse;padding-left:5px;"><strong>Nome</strong></td>
						<!--<t t-foreach="o.get_elements_names(o.element_line)" t-as="sub">
							<td width="15%"><strong><span t-esc="sub['element']"/></strong></td>-->
						<t t-foreach="o.element_line" t-as="el">
							<td width="12%" style="border:1px solid #cccccc; border-collapse: collapse;padding-left:5px;"><span t-if="o.use_code"><strong><span t-esc="el.element_id.code"/></strong></span><span t-if="not o.use_code"><strong><span t-esc="el.element_id.name"/></strong></span></td>
						</t>
						<td width="12%" style="border:1px solid #cccccc; border-collapse: collapse;padding-left:5px;"><strong>Classificação Final</strong></td>
					</tr>
					<t t-foreach="o.student_line" t-as="att">
						<t t-if="att_parity=='even'">
							<tr style="background-color:#FFFFFF;">
								<td style="border:1px solid #cccccc; border-collapse: collapse;padding-left:5px;"> <span t-field="att.student_id.roll_number" style="color:333333;"/></td>
								<td style="border:1px solid #cccccc; border-collapse: collapse;padding-left:5px;"> <span t-field="att.student_id.complete_name_cap" style="color:333333;"/></td>
								<t t-foreach="att.element_line" t-as="elem">
									<td style="text-align:center;border:1px solid #cccccc; border-collapse: collapse;"><span t-esc="o.get_grade_int(elem.grade)"/></td>
								</t>
								<td style="text-align:center;border:1px solid #cccccc; border-collapse: collapse;"> <span t-field="att.grade_string" /> </td>
							</tr>
						</t>					
						<t t-if="att_parity=='odd'">
							<tr style="background-color:#F0F0F0;">
								<td style="border:1px solid #cccccc; border-collapse: collapse;padding-left:5px;"> <span t-field="att.student_id.roll_number" style="color:333333;"/></td>
								<td style="border:1px solid #cccccc; border-collapse: collapse;padding-left:5px;"> <span t-field="att.student_id.complete_name_cap" style="color:333333;"/></td>
								<t t-foreach="att.element_line" t-as="elem">
									<td style="text-align:center;border:1px solid #cccccc; border-collapse: collapse;"><span t-esc="o.get_grade_int(elem.grade)"/></td>
								</t>
								<td style="text-align:center;border:1px solid #cccccc; border-collapse: collapse;"> <span t-field="att.grade_string" /> </td>
							</tr>
						</t>					
					</t>
				</table>
				<br/>
				<br/>
				<br/>
				<div>
					<div><strong>Fórmula de cálculo da nota final</strong></div>
					<div style="font-size:14px;"><span t-field="o.elements_formula" /></div>
				</div>								
				<br/>
				<br/>
				<br/>
				<div align="center">
					<strong>O Docente</strong>
				</div>								
				<br/>
				<br/>
				<div align="center">
					<span>_________________________________________</span>
				</div>					
			</div>

        </div>
		<div class="footer">
		    <div style="margin-bottom:80px;font-family:Calibri;font-size:9px;margin-left:5px;">
				<span style="line-height:10px;">Pólo Universitário ­<span t-if="o.university_center_id">- <span t-field="o.university_center_id.name"/></span></span><br/>
				<!--<span style="line-height:10px;">Processado por computador por <br/><span t-field="o.processor_id.email"/> em <span t-esc="time.strftime('%Y-%m-%d')"/> <span t-esc="time.strftime('%H:%M')"/></span>--><br/><br/><br/><br/><br/><br/>
		    </div>
		</div>

    </t>
	</t>
</template>

<template id="report_continuous_evaluation">
    <t t-call="report.html_container">
        <t t-foreach="docs" t-as="doc">
            <t t-call="emsprime_evaluation.report_continuous_evaluation_document" t-lang="doc.create_uid.lang"/>
        </t>
    </t>
</template>
</data>
</openerp>
